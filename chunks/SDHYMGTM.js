import{h as K}from"./DIWBTETG.js";import{u as B}from"./ZFBUFDPC.js";import{g as W}from"./KBLJ3VRP.js";import{b as L,c as N}from"./T2HSSEKO.js";import{ga as D}from"./GZKBVB6W.js";import{a as V}from"./ZXP22K55.js";import{j as F}from"./TFQXSVKK.js";import{Ea as H,ka as $}from"./5XNCO7TL.js";import{a as M}from"./4B6UFNBQ.js";import{c as O,f as pe}from"./GAV6HCJA.js";var X=O((Ke,G)=>{G.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],o=0;o<e.rangeCount;o++)r.push(e.getRangeAt(o));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||r.forEach(function(n){e.addRange(n)}),t&&t.focus()}}});var Y=O((Ve,Q)=>{"use strict";var ge=X(),J={"text/plain":"Text","text/html":"Url",default:"Text"},be="Copy to clipboard: #{key}, Enter";function he(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function ve(e,t){var r,o,n,i,s,a,f=!1;t||(t={}),r=t.debug||!1;try{n=ge(),i=document.createRange(),s=document.getSelection(),a=document.createElement("span"),a.textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(l){if(l.stopPropagation(),t.format)if(l.preventDefault(),typeof l.clipboardData>"u"){window.clipboardData.clearData();var d=J[t.format]||J.default;window.clipboardData.setData(d,e)}else l.clipboardData.clearData(),l.clipboardData.setData(t.format,e);t.onCopy&&(l.preventDefault(),t.onCopy(l.clipboardData))}),document.body.appendChild(a),i.selectNodeContents(a),s.addRange(i);var p=document.execCommand("copy");if(!p)throw new Error("copy command was unsuccessful");f=!0}catch{try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),f=!0}catch{o=he("message"in t?t.message:be),window.prompt(o,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(i):s.removeAllRanges()),a&&document.body.removeChild(a),n()}return f}Q.exports=ve});var ae=O(x=>{"use strict";function j(e){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(e)}Object.defineProperty(x,"__esModule",{value:!0});x.CopyToClipboard=void 0;var P=re(M()),we=re(Y()),Ce=["text","onCopy","options","children"];function re(e){return e&&e.__esModule?e:{default:e}}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,o)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z(Object(r),!0).forEach(function(o){A(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Oe(e,t){if(e==null)return{};var r=Pe(e,t),o,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function Pe(e,t){if(e==null)return{};var r={},o=Object.keys(e),n,i;for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function xe(e,t,r){return t&&te(e.prototype,t),r&&te(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}function z(e,t){return z=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o},z(e,t)}function _e(e){var t=Re();return function(){var o=S(e),n;if(t){var i=S(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Ie(this,n)}}function Ie(e,t){if(t&&(j(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oe(e)}function oe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},S(e)}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ne=function(e){Te(r,e);var t=_e(r);function r(){var o;Se(this,r);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return o=t.call.apply(t,[this].concat(i)),A(oe(o),"onClick",function(a){var f=o.props,p=f.text,l=f.onCopy,d=f.children,b=f.options,m=P.default.Children.only(d),T=(0,we.default)(p,b);l&&l(p,T),m&&m.props&&typeof m.props.onClick=="function"&&m.props.onClick(a)}),o}return xe(r,[{key:"render",value:function(){var n=this.props,i=n.text,s=n.onCopy,a=n.options,f=n.children,p=Oe(n,Ce),l=P.default.Children.only(f);return P.default.cloneElement(l,ee(ee({},p),{},{onClick:this.onClick}))}}]),r}(P.default.PureComponent);x.CopyToClipboard=ne;A(ne,"defaultProps",{onCopy:void 0,options:void 0})});var ke=O((Xe,ie)=>{"use strict";var Ee=ae(),U=Ee.CopyToClipboard;U.CopyToClipboard=U;ie.exports=U});var c=pe(M()),de=D(({className:e,...t})=>c.default.createElement(N,{...t,classes:{popper:e}}))(({theme:e})=>({[`& .${L.tooltip}`]:{backgroundColor:e.palette.background.paper,color:"rgba(0, 0, 0, 0.87)",fontSize:12,boxShadow:e.shadows[1],maxWidth:"none"},[`& .${L.arrow}`]:{color:e.palette.background.paper}})),me=D("img")({}),ye=e=>{let{src:t,alt:r,height:o,width:n="100%",SkeletonSx:i,maxRetryTimes:s=1,maxLoadingTime:a=10*1e3,preview:f,placement:p,imgStyle:l,fileId:d,onError:b,imageSx:m,onImageClick:T,onLoaded:le}=e,[h,_]=(0,c.useState)(null),[ce,v]=(0,c.useState)(!0),I=(0,c.useRef)($()),se=W(le),R=K();return(0,c.useEffect)(()=>{let ue=async()=>{let k=async()=>new Promise(u=>{let w=setTimeout(()=>{v(!1),u(!1)},a),C=new Image;C.src=t,C.onload=()=>{clearTimeout(w),_(t),v(!1),u(!0),se.current?.(C)},C.onerror=async()=>{clearTimeout(w);try{let y=await H.fetch(t,{parse:"blob",method:"GET"});if(y){let q=y.response?.status;if(V(q)&&q>=400){v(!1),d?(_(F("/images/svg-icons/image-invalid.svg")),u(!0)):u(!1);return}y.success&&_(URL.createObjectURL(y.data)),v(!1),u(y.success)}else u(!1)}catch{u(!1)}}});for(let u=-1;u<s;u++)if(await k())return!0;return!1},E=new IntersectionObserver(k=>{k.forEach(u=>{u.isIntersecting&&(ue().then(w=>{w||b&&b()}),E.unobserve(u.target))})}),fe=`#lazy-image-${I.current}`,g=null;return g=(R??document.body).querySelector(fe),g&&E.observe(g),()=>{g&&E.unobserve(g)}},[t,R]),c.default.createElement(c.default.Fragment,null,ce?c.default.createElement(B,{className:"maxai--lazy-load--skeleton",id:`lazy-image-${I.current}`,variant:"rectangular",height:o,"data-src":h,sx:{width:n,borderRadius:l?.borderRadius||0,...i}}):c.default.createElement(de,{placement:p||"top",title:f?c.default.createElement("img",{style:{objectFit:"contain",...l},src:h,alt:r,width:256,height:256}):null,PopperProps:{container:R,style:{zIndex:"2147483660!important"}}},c.default.createElement(me,{id:`lazy-image-${I.current}`,src:h??void 0,alt:r,width:n,height:o,"data-src":h,style:{...l},sx:m,onClick:T})))},We=ye;export{ke as a,We as b};
