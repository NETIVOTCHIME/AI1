import{a as S}from"./JSRZNT2O.js";import{z as G}from"./ZFBUFDPC.js";import{g as b}from"./KBLJ3VRP.js";import{g as H}from"./SD5BERUU.js";import{w as R}from"./GZKBVB6W.js";import{Ga as N,Ha as P,Ja as h,Ka as _,Oa as V}from"./HQXZBLYX.js";import{ua as k}from"./5XNCO7TL.js";import{a as T}from"./4B6UFNBQ.js";import{f as A}from"./GAV6HCJA.js";var B=()=>{let{popupContainer:e}=S();return e};var O=A(T()),W=(e,t)=>(0,O.useMemo)(()=>N(e,t),[e,t]);var ie=(e,t)=>(0,O.useMemo)(()=>P(e,t),[e,t]);var I=A(T());var me=(e=480)=>{let{theme:t,popupContainer:l}=S(),[c,E]=(0,I.useState)("xl"),[u,f]=(0,I.useState)(e);(0,I.useEffect)(()=>{let o=()=>{let s=t.breakpoints.values,i=window.innerWidth,a="xl";i<s.sm?a="xs":i<s.md?a="sm":i<s.lg?a="md":i<s.xl&&(a="lg"),E(a),f(l?.offsetWidth||e)};return o(),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},[t.breakpoints.values,l]);let w=(0,I.useMemo)(()=>u<=e?"xs":u<=600?"sm":u<=960?"md":u<=1280?"lg":u<=1920?"xl":"xs",[u,e]);return k()?w:c};var L=A(T());var we=(e,t)=>{let{intersectionConfig:l,scrollableParents:c,needCheckScrollParentsInInit:E=!0}=t??{},[u,f]=(0,L.useState)(()=>_(e,{needCheckScrollableParents:E,scrollableParents:c})),w=(0,L.useRef)(l);return w.current=l,(0,L.useEffect)(()=>{if(!e){f(!1);return}let o=new IntersectionObserver(i=>{f(i[0].isIntersecting)},w.current),s=new ResizeObserver(i=>{let{width:a,height:x}=i[0].contentRect;(a===0||x===0)&&f(!1)});return o.observe(e),s.observe(e),()=>{o.disconnect(),s.disconnect()}},[e]),u},Ae=(e,t,l={})=>{let c=b(t),E=b(l);(0,L.useEffect)(()=>{let u=e?.current;if(!u)return;let f=[],w=new IntersectionObserver(o=>{o.forEach(s=>{let i=c.current(s.isIntersecting);i&&f.push(i)})},E.current);return w.observe(u),()=>{w.disconnect(),f.forEach(o=>{o()})}},[c,E,e])};var Le=()=>{let e=H();return{isDownSm:R(e.breakpoints.down("sm"))}};var r=A(T()),$=[e=>e===document.body,e=>!!e?.tagName.includes("MAX-AI")],Q=e=>$.some(t=>t(e)),ve=(e,t,l=1)=>{let c=(0,r.useRef)([]),[E,u]=(0,r.useState)({x:0,y:0}),[f,w]=(0,r.useState)(!0),o=(0,r.useRef)(null),s=(0,r.useRef)(null),i=(0,r.useRef)(!1),a=(0,r.useRef)(!1),x=(0,r.useRef)(!1),[U,F]=(0,r.useState)(null),M=(0,r.useCallback)(()=>{u({x:0,y:0})},[]);return(0,r.useEffect)(()=>{let n=()=>{s.current=o.current};return document.addEventListener("keydown",n,!0),()=>{document.removeEventListener("keydown",n,!0)}},[]),(0,r.useEffect)(()=>{let n=p=>{["ArrowUp","ArrowDown","PageUp","PageDown","Space"].includes(p.code)&&(x.current=!0,s.current=o.current)},d=()=>{x.current&&(x.current=!1)};return document.addEventListener("keydown",n,!0),document.addEventListener("keyup",d,!0),()=>{document.removeEventListener("keydown",n,!0),document.removeEventListener("keyup",d,!0)}},[]),(0,r.useEffect)(()=>{let n=p=>{(p.offsetX>p.target.clientWidth||p.offsetY>p.target.clientHeight)&&(a.current=!0,s.current=o.current)},d=p=>{a.current&&(a.current=!1,i.current&&(i.current=!1))};return document.addEventListener("mousedown",n,!0),document.addEventListener("mouseup",d,!0),()=>{document.removeEventListener("mousedown",n,!0),document.removeEventListener("mouseup",d,!0)}},[]),(0,r.useEffect)(()=>{let n=null;if(Q(e)&&(n=o.current),n||(n=e),F(n),!n||(c.current=h(n,l),M(),c.current.length===0))return;let d=c.current.map(m=>({top:m.scrollTop,left:m.scrollLeft})),p=()=>{i.current=!0,(a.current||x.current)&&(n=s.current);let m=h(n,l);m.length!==d.length&&(d=m.map(g=>({top:g.scrollTop,left:g.scrollLeft})),c.current=m);let j=c.current.reduce((g,C,z)=>{let y=d[z]||{top:0,left:0};return{x:g.x+(y.left-C.scrollLeft),y:g.y+(y.top-C.scrollTop)}},{x:0,y:0});u(j)};return c.current.forEach(m=>{m.addEventListener("scroll",p,!0)}),o.current=n,s.current=null,()=>{c.current.forEach(m=>{m.removeEventListener("scroll",p,!0)})}},[t,e,M,l]),{scrollState:E,resetScrollState:M,currentTarget:U,inParentScrollView:f}};var v=A(T());var D=A(T()),Ne=()=>{let e=B();return(0,D.useCallback)(()=>e?.parentNode?.nodeName==="#document-fragment"?e?.parentNode?.getSelection?.()||window.getSelection()||null:window.getSelection()||null,[e])};var X=A(T()),Qe=()=>{let{theme:e}=S();return(0,X.useEffect)(()=>{V.theme=e},[e]),null};export{W as a,ie as b,me as c,we as d,Ae as e,Le as f,ve as g,B as h,Ne as i,Qe as j};
