import{a as pe}from"./LU2HGRXL.js";import{z as $e}from"./ZFBUFDPC.js";import{a as J}from"./HO5BHRQK.js";import{O as W}from"./QKB5ZQQZ.js";import{c as G}from"./FEEF6AYC.js";import{b as M}from"./336CJV6T.js";import{f as re,o as ie}from"./YMQMZIXS.js";import{b as le,e as X}from"./ZJHYEVX5.js";import{ga as ne,ka as se,oa as Y}from"./GZKBVB6W.js";import{d as Be}from"./PCHDBHHN.js";import{a as oe,b as Oe}from"./5XNCO7TL.js";import{a as $}from"./4B6UFNBQ.js";import{f as B}from"./GAV6HCJA.js";var v=B($()),Me=t=>{let{disabledClickEvent:r,offset:l={top:0,right:0,bottom:0,left:0},onSelectOption:a,defaultValue:f,sx:e,options:n,title:d,refBind:p}=t,[h,C]=(0,v.useState)(-1),w=(0,v.useMemo)(()=>l?{borderTop:`${l.top}px solid transparent`,borderRight:`${l.right}px solid transparent`,borderBottom:`${l.bottom}px solid transparent`,borderLeft:`${l.left}px solid transparent`}:{},[l.top,l.bottom,l.left,l.right]);return v.default.createElement(se,{sx:w,ref:i=>p?.(i)},v.default.createElement(ie,{sx:{p:"5px 6px",width:"270px",boxSizing:"border-box",display:"flex",flexDirection:"column",border:"1px solid",borderColor:"border.main",boxShadow:"0px 4px 6px -2px rgba(16, 24, 40, 0.03);0px 12px 16px -4px rgba(16, 24, 40, 0.08);",...e},onMouseLeave:()=>{C(-1)}},d&&v.default.createElement(Y,{padding:"4px 6px",boxSizing:"border-box",component:"div",fontSize:"12px",color:"text.secondary",fontWeight:400,textAlign:"left",lineHeight:1.5,noWrap:!0},d),n.map((i,O)=>{let y=h!==-1?h===O:i.value===f;return v.default.createElement(M,{sx:{color:"text.primary"},key:i.value,onMouseEnter:()=>{i.disabled||C(O)},onMouseLeave:()=>{i.disabled||C(-1)},...r?{onMouseDownCapture:m=>{m.stopPropagation(),m.preventDefault(),!i.disabled&&a?.(i.value,i)}}:{onClick:()=>{i.disabled||a?.(i.value,i)}}},i.render?i.render(i.value,O):v.default.createElement(ae,{tabIndex:-1,title:i.title,key:i.value,testid:i.testid,disabled:i.disabled,...i.ButtonProps,sx:{width:"100%",justifyContent:"flex-start",padding:"8px 10px",borderRadius:"6px",height:"unset",gap:"12px",display:"flex",alignItems:"center","& svg":m=>({color:i.disabled?m.palette.text.disabled:"text.secondary"}),"& > div":{color:i.disabled?"text.disabled":"primary.main"},...i.sx||{},...y?{bgcolor:m=>m.palette.mode==="dark"?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.06)"}:{},"& > :not(div)":{flexShrink:0},...i.ButtonProps?.sx}},i.icon,v.default.createElement(Y,{noWrap:!0,component:"div",flex:1,fontSize:"14px",color:"inherit",fontWeight:400,textAlign:"left",sx:i.labelSx},i.label),i.suffix),i.divider&&v.default.createElement(M,{sx:{width:"100%",height:"1px",my:"5px",bgcolor:"border.main"}}))})))},de=Me;var F=B(Be(),1);var P=B($(),1),Ee=B($(),1);var A=B($(),1);function R(t){if(typeof window>"u")return t;let r=A.useRef(null);return A.useLayoutEffect(()=>{r.current=t}),A.useCallback((...l)=>{var a;(a=r.current)===null||a===void 0||a.call(r,...l)},[])}var ue={};function Se(t,r){ue[t]||(ue[t]=!0)}var ke={isOpen:!1,setAnchorElUsed:!1,anchorEl:void 0,anchorPosition:void 0,hovered:!1,focused:!1,_openEventType:null,_childPopupState:null,_deferNextOpen:!1,_deferNextClose:!1},ce=Ee,Ae="useId"in ce?()=>ce.useId():()=>{};function xe({parentPopupState:t,popupId:r=Ae(),variant:l,disableAutoFocus:a}){let f=(0,P.useRef)(!0);(0,P.useEffect)(()=>(f.current=!0,()=>{f.current=!1}),[]);let[e,n]=(0,P.useState)(ke),d=(0,P.useCallback)(s=>{f.current&&n(s)},[]),p=(0,P.useCallback)(s=>d(o=>({...o,setAnchorElUsed:!0,anchorEl:s??void 0})),[]),h=R(s=>(e.isOpen?i(s):C(s),e)),C=R(s=>{let o=s instanceof Element?void 0:s,c=s instanceof Element?s:s?.currentTarget instanceof Element?s.currentTarget:void 0;if(o?.type==="touchstart"){d(g=>({...g,_deferNextOpen:!0}));return}let N=o?.clientX,L=o?.clientY,S=typeof N=="number"&&typeof L=="number"?{left:N,top:L}:void 0,D=g=>{if(!s&&!g.setAnchorElUsed&&l!=="dialog"&&Se("missingEventOrAnchorEl","eventOrAnchorEl should be defined if setAnchorEl is not used"),t){if(!t.isOpen)return g;setTimeout(()=>t._setChildPopupState(T))}let k={...g,isOpen:!0,anchorPosition:S,hovered:o?.type==="mouseover"||g.hovered,focused:o?.type==="focus"||g.focused,_openEventType:o?.type};return g.setAnchorElUsed||(o!=null&&o.currentTarget?k.anchorEl=o?.currentTarget:c&&(k.anchorEl=c)),k};d(g=>g._deferNextOpen?(setTimeout(()=>d(D),0),{...g,_deferNextOpen:!1}):D(g))}),w=s=>{let{_childPopupState:o}=s;return setTimeout(()=>{o?.close(),t?._setChildPopupState(null)}),{...s,isOpen:!1,hovered:!1,focused:!1}},i=R(s=>{let o=s instanceof Element?void 0:s;if(o?.type==="touchstart"){d(c=>({...c,_deferNextClose:!0}));return}d(c=>c._deferNextClose?(setTimeout(()=>d(w),0),{...c,_deferNextClose:!1}):w(c))}),O=(0,P.useCallback)((s,o)=>{s?C(o):i(o)},[]),y=R(s=>{let{relatedTarget:o}=s;d(c=>c.hovered&&!(o instanceof Element&&K(o,T))?c.focused?{...c,hovered:!1}:w(c):c)}),m=R(s=>{if(!s)return;let{relatedTarget:o}=s;d(c=>c.focused&&!(o instanceof Element&&K(o,T))?c.hovered?{...c,focused:!1}:w(c):c)}),V=(0,P.useCallback)(s=>d(o=>({...o,_childPopupState:s})),[]),T={...e,setAnchorEl:p,popupId:r??void 0,variant:l,open:C,close:i,toggle:h,setOpen:O,onBlur:m,onMouseLeave:y,disableAutoFocus:a??!!(e.hovered||e.focused),_setChildPopupState:V};return T}function he({isOpen:t,popupId:r,variant:l}){return{...l==="popover"?{"aria-haspopup":!0,"aria-controls":t?r:void 0}:l==="popper"?{"aria-describedby":t?r:void 0}:void 0}}function Q(t){return{...he(t),onClick:t.open,onTouchStart:t.open}}function Z(t){let{open:r,onMouseLeave:l}=t;return{...he(t),onTouchStart:r,onMouseOver:r,onMouseLeave:l}}function ee({isOpen:t,anchorEl:r,anchorPosition:l,close:a,popupId:f,onMouseLeave:e,disableAutoFocus:n,_openEventType:d}){return{id:f,anchorEl:r,anchorPosition:l,anchorReference:d==="contextmenu"?"anchorPosition":"anchorEl",open:t,onClose:a,onMouseLeave:e,...n&&{disableAutoFocus:!0,disableEnforceFocus:!0,disableRestoreFocus:!0}}}function Re(t,{popupId:r}){if(!r)return null;let l=typeof t.getRootNode=="function"?t.getRootNode():document;return typeof l.getElementById=="function"?l.getElementById(r):null}function K(t,r){let{anchorEl:l,_childPopupState:a}=r;return fe(l,t)||fe(Re(t,r),t)||a!=null&&K(t,a)}function fe(t,r){if(!t)return!1;for(;r;){if(r===t)return!0;r=r.parentElement}return!1}function z({children:t,popupId:r,variant:l,parentPopupState:a,disableAutoFocus:f}){let e=xe({popupId:r,variant:l,parentPopupState:a,disableAutoFocus:f}),n=t(e);return n??null}z.propTypes={children:F.default.func.isRequired,popupId:F.default.string,variant:F.default.oneOf(["popover","popper"]).isRequired,parentPopupState:F.default.object,disableAutoFocus:F.default.bool};Oe();var _=B($(),1);function me(t){let r=t;return r.__esModule?r.default:t}var Fe=me(W),_e=_.forwardRef(function(r,l){var a,f;let e=_.useMemo(()=>{var n;let d=(n=r.slotProps)===null||n===void 0?void 0:n.paper;return d instanceof Function?p=>{let h=d(p);return{...h,style:{pointerEvents:"auto",...h?.style}}}:{...d,style:{pointerEvents:"auto",...d?.style}}},[(a=r.slotProps)===null||a===void 0?void 0:a.paper]);return _.createElement(Fe,oe({},r,{ref:l,style:{pointerEvents:"none",...r.style},PaperProps:{...r.PaperProps,style:{pointerEvents:"auto",...(f=r.PaperProps)===null||f===void 0?void 0:f.style}},slotProps:{...r.slotProps,paper:e}}))}),ge=_e;var u=B($());var E=B($()),De=({placement:t,anchorElement:r,popoverCardElement:l,onClick:a})=>{let f=(0,E.useMemo)(()=>({position:"fixed",bgcolor:"transparent"}),[]),e=r?.getBoundingClientRect(),n=l?.getBoundingClientRect(),d=(0,E.useMemo)(()=>{if(!e||!n)return null;let p=e.width>n.width;switch(t){case"left-start":return[{width:p?e.width/2:e.width,height:`min(${n.height}px, 120px)`,top:n.top+e.height,left:e.left}];case"left":return[{width:p?e.width/2:e.width,height:`min(${n.height}px, 120px)`,top:`calc(${e.top}px - min(${n.height}px, 120px))`,left:e.left},{width:p?e.width/2:e.width,height:`min(${n.height}px, 120px)`,top:`calc(${e.top}px + ${e.height}px)`,left:e.left}];case"left-end":return[{width:p?e.width/2:e.width,height:`min(${n.height}px, 120px)`,top:`calc(${e.top}px - min(${n.height}px, 120px))`,left:e.left}];case"right-start":return[{width:p?e.width/2:e.width,height:`min(${n.height}px, 120px)`,top:n.top+e.height,left:`calc(${n.left}px - ${p?e.width/2:e.width}px)`}];case"right":return[{width:p?e.width/2:e.width,height:`min(${n.height}px, 120px)`,top:`calc(${e.top}px - min(${n.height}px, 120px))`,left:`calc(${n.left}px - ${p?e.width/2:e.width}px)`},{width:p?e.width/2:e.width,height:`min(${n.height}px, 120px)`,top:`calc(${e.top}px + ${e.height}px)`,left:`calc(${n.left}px - ${p?e.width/2:e.width}px)`}];case"right-end":return[{width:p?e.width/2:e.width,height:`min(${n.height}px, 120px)`,top:`calc(${e.top}px - min(${n.height}px, 120px))`,left:`calc(${n.left}px - ${p?e.width/2:e.width}px)`}];case"top-start":return p?[]:[{width:`min(${n.width}px, 100px)`,height:e.height,top:e.top,left:e.left+e.width}];case"top":return p?[]:[{width:`min(${n.width}px, 100px)`,height:e.height,top:e.top,left:e.left+e.width},{width:`min(${n.width}px, 100px)`,height:e.height,top:e.top,left:`calc(${e.left}px - min(${n.width}px, 100px))`}];case"top-end":return p?[]:[{width:`min(${n.width}px, 100px)`,height:e.height,top:e.top,left:`calc(${e.left}px - min(${n.width}px, 100px))`}];case"bottom-start":return p?[]:[{width:`min(${n.width}px, 100px)`,height:e.height,top:e.top,left:e.left+e.width}];case"bottom":return p?[]:[{width:`min(${n.width}px, 100px)`,height:e.height,top:e.top,left:e.left+e.width},{width:`min(${n.width}px, 100px)`,height:e.height,top:e.top,left:`calc(${e.left}px - min(${n.width}px, 100px))`}];case"bottom-end":return p?[]:[{width:`min(${n.width}px, 100px)`,height:e.height,top:e.top,left:`calc(${e.left}px - min(${n.width}px, 100px))`}]}},[e,n,t]);return!e||!n?null:E.default.createElement(E.default.Fragment,null,d?.map((p,h)=>E.default.createElement(M,{key:`${t} + ${h}`,onClick:a,sx:{...f,...p}})))},be=De;var Ne=ne(X)(({theme:t,color:r})=>({minWidth:"unset",color:t.palette.text.secondary,borderRadius:t.shape.borderRadius,boxSizing:"border-box",fontWeight:400,gap:"8px",padding:"6px","& svg":{fontSize:"20px",color:t.palette.text.secondary},"& > div":{color:r==="primary"?t.palette.text.primary:t.palette.text.secondary},"&:hover":{backgroundColor:t.palette.mode==="dark"?"rgba(255, 255, 255, .1)":"rgba(0, 0, 0, 0.04)",color:t.palette.primary.main,"& svg":{color:t.palette.primary.main},"& > div":{color:t.palette.primary.main}},[`& .${le.contained}`]:{color:"white"},"&.Mui-disabled":{color:t.palette.action.disabled,"& svg":{color:t.palette.action.disabled},"& > div":{color:t.palette.action.disabled}}})),ve={hover:{Component:ge,buttonBindFunction:Z},click:{Component:W,buttonBindFunction:Q}},Le=t=>{let{title:r,description:l,loading:a,disabled:f,actived:e,children:n,loadingNode:d,testid:p,tooltipProps:h,buttonRefBind:C,options:w,onSelectOption:i,OptionsCardProps:O,onClick:y,defaultOptionValue:m,PopoverProps:V,offset:T,onPopupStateChange:s,placement:o="bottom",styleType:c="actionButton",disabledOnSelectOptionAutoClosePopup:N=!1,disableScrollLock:L=!0,disabledClickEvent:S=!1,optionsMenuTriggerMode:D="hover",needPopoverPointerMovingBuffer:g=!1,autoClosePopoverOnSelectDefaultOption:k=!1,...H}=t,te=c==="actionButton"?Ne:X,q=h?.disabled??f,Pe=ve[D].Component,Ce=ve[D].buttonBindFunction,U=(0,u.useRef)(null),[we,Ie]=(0,u.useState)(null),j=(0,u.useMemo)(()=>pe(o,T===void 0?8:T),[T,o]);if(w===void 0||w.length===0){let x=u.default.createElement(te,{"data-testid":p,disableElevation:!0,disabled:f,ref:I=>C?.(I),...H,...S?{onMouseDownCapture:I=>{I.stopPropagation(),I.preventDefault(),y?.(I)}}:{onClick:y},sx:{...H.sx,...e?{bgcolor:I=>I.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.16)"}:{}}},a?d||u.default.createElement(G,{size:16}):n);return u.default.createElement(J,{title:r,description:l,disabled:q,testId:`tooltip-${p}`,placement:o,...h},!q&&f?u.default.createElement("div",null,x):x)}else return u.default.createElement(u.default.Fragment,null,u.default.createElement(z,{disableAutoFocus:!0,variant:"popover"},x=>{s?.(x.isOpen);let I=ee(x);return u.default.createElement("div",null,u.default.createElement(J,{title:r,description:l,disabled:q,testId:`tooltip-${p}`,placement:o,...h},u.default.createElement(te,{"data-testid":p,disableElevation:!0,disabled:f,ref:b=>{C?.(b)},...S?{onMouseDownCapture:b=>{S&&(b.stopPropagation(),b.preventDefault()),y?.(b),m&&(i?.(m,x),k&&x.close())}}:{onClick:b=>{y?.(b),m&&(i?.(m,x),k&&x.close())}},onWheel:x.isOpen?()=>{x.setAnchorEl(x.anchorEl)}:void 0,...H,sx:{...H.sx,...e?{bgcolor:b=>b.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.16)"}:{}},...Ce(x)},a?d||u.default.createElement(G,{size:16}):n)),u.default.createElement(Pe,{...I,transitionDuration:0,slotProps:{paper:{elevation:0,sx:{overflow:"unset",background:"transparent"}}},anchorOrigin:j.anchorOrigin,transformOrigin:j.transformOrigin,disableScrollLock:L,...V},g&&u.default.createElement(be,{anchorElement:I.anchorEl,popoverCardElement:we,placement:o,onClick:()=>{x.close()}}),u.default.createElement(re,{in:x.isOpen,onTransitionEnd:()=>{U?.current&&Ie(U.current)}},u.default.createElement(M,null,u.default.createElement(de,{refBind:b=>{U.current=b},disabledClickEvent:S,offset:j.originOffset,defaultValue:m,options:w,onSelectOption:async(b,ye)=>{!N&&!ye.disabledOnSelectOptionAutoClosePopup&&(x.close(),await new Promise(Te=>setTimeout(Te,50))),i?.(b,x)},...O})))))}))},ae=Le;export{de as a,Z as b,ee as c,z as d,ge as e,Le as f,ae as g};
